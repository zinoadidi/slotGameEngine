!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);let r=new class{constructor(){this.storage={set:function(e,t){this.db[e]=t},get:function(e){return this.db[e]},db:{reelObjects:{},totalReels:0,balance:0}},this.config=function(e,t){this.storage.set("balance",t),e=this.gameUI.attachReels(e),this.storage.set("reelObjects",e)},this.gameUI={attachReels:function(e){try{for(var t=0;t<e.length;t++){var n=document.querySelector("#reel-container"),r=Math.round(12/e.length);e.length>6&&(r=1);var o=document.createElement("DIV");o.id="reel"+t,o.className=`reel w3-col s${r} m${r} l${r} w3-border-left w3-border-right`;for(var s=0;s<e[t].images.length;){var i=document.createElement("IMG");i.src=e[0].images[s].src,i.className="reel-symbol",o.appendChild(i),s++}n.appendChild(o),e[t].id=o.id}return e}catch(e){console.log(e)}}},this.createReelObj=function(e,t){return this.storage.set("totalReels",e),new Promise(function(n,r){let o=[],s=[];if(t&&e>0)try{for(let e=0;e<t.length;e++)s[e]={symbolId:e,src:t[e]};for(let t=0;t<e;t++)o[t]={images:""},o[t].images=s;n(o)}catch(e){r(Error(e))}else r(new Error("Kindly provide value for images and number of reels"))})},this.spinReel=function(e,t){let n=e.images.shift();e.images.push(n);var r=0;for(r=0;r<e.images.length;r++)document.querySelector(`#${e.id}`).childNodes[r].src=e.images[r].src;let o=this.storage.get("reelObjects");return o[t]=e,this.storage.set("reelObjects",o),Promise.resolve(e)},this.enableInteraction=function(){document.querySelectorAll(".interactable").forEach(function(e){e.classList.remove("visible")})},this.disableInteraction=function(){document.querySelectorAll(".interactable").forEach(function(e){e.classList.add("visible")})},this.startLoad=function(){document.querySelector(".loadingbar").classList.remove("hidden")},this.stopLoad=function(){var e=document.querySelector(".loadingbar");e.classList.add("hidden"),(e=document.querySelector("#display")).classList.remove("hidden")},this.calculateScore=function(){for(var e=this.storage.get("reelObjects"),t=(Array(),0);t<e.length;t++)e[t].images.pop(),e[t].images.shift()}}};r.spinningReels=[],r.numOfRequestCompleted=0,r.createReelObj(3,["img/3xBAR.png","img/BAR.png","img/2xBAR.png","img/7.png","img/CHERRY.png"]).then(function(e){r.config(e,500),document.querySelector("#balanceInput").value=500,r.stopLoad()},function(e){console.log(e)}),document.querySelector("#spin_btn").addEventListener("click",function(){r.disableInteraction(),new function(){var e=r.storage.get("reelObjects"),t=parseInt(r.storage.get("balance"))-2;document.querySelector("#balanceInput").value=t,r.storage.set("balance",t);var n=2e3;for(let t=0;t<e.length;t++)r.spinningReels[t]=setInterval(function(){const n=(e=r.storage.get("reelObjects"))[t];r.spinReel(n,t)},200),setTimeout(function(){clearInterval(r.spinningReels[t]),r.numOfRequestCompleted++,r.spinningReels.length<=r.numOfRequestCompleted&&(r.numOfRequestCompleted=0,r.enableInteraction(),r.calculateScore())},n),n+=500}})}]);